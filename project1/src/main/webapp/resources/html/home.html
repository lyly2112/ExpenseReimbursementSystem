<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="ISO-8859-1" />
    <title>Home page</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="/ersapp/resources/css/mystyles.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <!-- <link
      rel="stylesheet"
      type="text/css"
      href="../css/styles.css"
    /> -->
  </head>

  <body>
    <div class="home-container__wrapper">
      <div class="home-container">
        <div>
        	<h4 id="welcomeText">[user not found]</h4>
        	<p style="cursor: pointer;" onclick="logOut()">log out</p>
        </div>
        <input type="search" placeholder="Search by Status ID (number)..." class="form-control search-input" data-table="tickets-table"/>
        <table id="ticketsTable" class="tickets-table table">
          <thead>
            <tr>
              <th scope="col">Primary key</th>
              <th scope="col">Amount</th>
              <th scope="col">Time Submitted</th>
              <th scope="col">Time Resolved</th>
              <th scope="col">Description</th>
              <th scope="col">Receipt</th>
              <th scope="col">Author</th>
              <th scope="col">Resolver</th>
              <th scope="col">Status Id</th>
              <th scope="col">Type Id</th>
            </tr>
          </thead>
          <tbody id="ticketsTableBody"></tbody>
        </table>
          <!--
            visible to employee
            id=create_ticket
          -->
        <div class="create-ticket-container" id="create_ticket">
          <h4>Create reimbursement</h4>
          <form method="POST" action="/ersapp/json/create">
            <div class="form-group form-group--display-flex">
              <label class="label" for="reimbAmount">Reimbursement amount</label>
              <input
                type="number"
                class="form-control"
                id="reimbAmount"
                name="reimbAmount"
                placeholder="Enter reimbursement amount"
              />

              <label class="label" for="reimbDescription">Reimbursement description</label>
              <textarea
                class="form-control"
                id="reimbDescription"
                name="reimbDescription"
                rows="3"
              ></textarea>

              <label class="label" for="exampleFormControlFile1">Select receipt</label>
              <input
                type="file"
                class="form-control-file"
                id="exampleFormControlFile1"
              />

              <label class="label" for="reimbType">Select reimbursement type</label>
              <select class="form-control" id="reimbType" name="reimbTypeId">
                <option value="1">lodging</option>
                <option value="2">travel</option>
                <option value="3">food</option>
                <option value="4">other</option>
              </select>
            </div>
            <button type="submit" class="btn btn-primary margin-top-16px" >Submit</button>
          </form>
        </div>

        <!--
          visible to employer
          id=change_ticket_status
        -->
        <form
          method="POST"
          action="/ersapp/json/denyorapprove"
          id="change_ticket_status"
        >
          <div class="form-group">
            <label class="label margin-top-16px" for="denyOrApproveTicketbyManagerInput">Please enter ticket id</label>
            <input
              type="number"
              class="form-control"
              id="reimbId"
              name="reimbId"
              placeholder="Reimbursement id"
            />
          </div>
          <div class="form-check margin-top-16px">
            <input
              type="checkbox"
              class="form-check-input"
              id="reimbStatusApproved"
              value="2"
              name="reimbStatusId"
              onclick="updateTicketStatus(this)"
            />
            <label class="form-check-label" for="reimbStatusApproved"
              >Approve</label
            >
          </div>
          <div class="form-check margin-top-16px">
            <input
              type="checkbox"
              class="form-check-input"
              id="reimbStatusDenied"
              value="3"
              name="reimbStatusId"
              onclick="updateTicketStatus(this)"
            />
            <label class="form-check-label" for="reimbStatusDenied">Deny</label>
          </div>
          <button type="submit" class="btn btn-primary margin-top-16px">Submit</button>
        </form>
      </div>
    </div>

    <script type="text/javascript" src="/ersapp/resources/js/home.js"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
